# ZSH

- .zshenv
  - ログインシェル、インタラクティブシェル、シェルスクリプト、どれでも常に必要な設定を定義する
  - zsh が起動して必ず最初に読み込まれる設定ファイル
  - 影響範囲が大きいので記述は必要最低限にするべき
    - コマンド検索パス（$PATH）の定義
    - リモートホストから直接起動する可能性のあるコマンドに関する設定、エイリアス、関数
    - 上記により参照される環境変数等の設定
- .zprofile
  - ログインシェルに必要な設定だけを記述する
  - zshenv の次に読み込まれる設定ファイル
  - zsh ログイン時の一回だけ読み込まれる
- .zshrc
  - ログインシェル、インタラクティブシェルの場合に読み込まれる
- .zlogin
  - ログインシェルに必要な設定だけを記述する
  - 最後に読み込まれる
  - 役割は .zprofile とほぼ一緒。混乱を避けるため併用しないこと
- .zlogout
  - exit コマンドで zsh を抜けたときに読み込まれる

- ```shell
  function my_function() {
    BUFFER="${BUFFER}xyz"
    CURSOR+=1
    zle redisplay
  }
  zle -N my_edit_func
  bindkey "^j" my_edit_func
  ```
  - `BUFFER`
    - コマンドラインとして編集している文字列が格納される変数
    - この変数に任意の文字列を入れると、実際にコマンドラインの文字列も置き換わる
  - `CURSOR`
    - カーソルがある位置が格納される変数
    - この変数に数値を入れると、実際にコマンドラインのカーソル位置が移動する
  - `zle redisplay`
    - 画面のリフレッシュ
    - 簡単な編集なら不要だが、つけておくと無難
  - `zle -N my_function`
    - my_functionをZLEウィジェットというものとして登録する
    - おまじない的に必ずつけるものだと思えば良い
  - `bindkey "^j" my_function`
    - ctrl+jにウィジェットmy_functionを紐づける

- ^a で行頭に移動
- ^e で行末に移動
- ^w で1ブロック削除